import{_ as f,c,d as r,v as G,e as a,b as E,f as p,w,t as $,k as e,s as M,m as y,q as k,l as R,F as C,x,n as W,y as N,r as V,a as Z,z,T as F,p as O,i as U,h as j}from"./index-BnzUKq_2.js";import{I as q,a as H}from"./IconWindows-CxERhFF5.js";const J={},K=a("path",{d:"M8.94721 2.51246L15.3292 15.2764C15.4954 15.6088 15.2537 16 14.882 16H2.11803C1.74634 16 1.50459 15.6088 1.67082 15.2764L8.05279 2.51246C8.23705 2.14394 8.76295 2.14394 8.94721 2.51246Z",stroke:"currentColor"},null,-1),Q=[K];function X(l,i){return c(),r("svg",G(l.$attrs,{width:"1em",height:"1em",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),Q,16)}const I=f(J,[["render",X]]),Y={},ee=a("path",{d:"M8.37371 8.17302L14.1469 14.6678C14.4335 14.9903 14.2046 15.5 13.7732 15.5L2.22684 15.5C1.79542 15.5 1.56652 14.9903 1.85314 14.6678L7.6263 8.17302C7.82519 7.94926 8.17481 7.94926 8.37371 8.17302Z",stroke:"currentColor"},null,-1),se=a("path",{d:"M8.37371 1.17302L14.1469 7.66782C14.4335 7.99027 14.2046 8.5 13.7732 8.5L2.22684 8.5C1.79542 8.5 1.56652 7.99027 1.85314 7.66782L7.6263 1.17302C7.82519 0.94926 8.17481 0.94926 8.37371 1.17302Z",stroke:"currentColor"},null,-1),te=[ee,se];function ne(l,i){return c(),r("svg",G(l.$attrs,{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),te,16)}const P=f(Y,[["render",ne]]),oe={class:"card"},ae=["src"],ce={class:"title"},le={class:"tags"},ie={class:"platforms"},re={class:"genre"},de={__name:"GameCard",props:["game"],setup(l){return(i,m)=>{var d,v,h,_,u,s;const n=E("RouterLink");return c(),r("div",oe,[p(n,{to:`/games/${(d=l.game)==null?void 0:d.id}`,class:"link",onClick:e(M)},{default:w(()=>{var t,o;return[a("img",{src:(t=l.game)==null?void 0:t.thumbnail,class:"thumbnail"},null,8,ae),a("h1",ce,$((o=l.game)==null?void 0:o.title),1)]}),_:1},8,["to","onClick"]),a("div",le,[a("span",ie,[(h=(v=l.game)==null?void 0:v.platform)!=null&&h.includes("PC (Windows)")?(c(),y(e(q),{key:0,class:"icon windows"})):k("",!0),(u=(_=l.game)==null?void 0:_.platform)!=null&&u.includes("Web Browser")?(c(),y(e(H),{key:1,class:"icon"})):k("",!0)]),a("span",re,$((s=l.game)==null?void 0:s.genre),1)])])}}},B=f(de,[["__scopeId","data-v-eb0efb49"]]),ue={key:0,class:"pages"},_e=["disabled"],me={class:"page-slice"},pe=["disabled"],he=["disabled","onClick"],ve=["disabled"],fe=["disabled"],b=5,ge={__name:"GamePagination",emits:["prev","next","change"],setup(l,{emit:i}){const m=i,{page:n,pages:d,incrementPage:v,decrementPage:h}=N(),_=R(()=>{const s=n.value%b-1,t=(L,A)=>n.value-(s-A)-(s===-1?b:0),o=Array.from({length:b},t),g=n.value+b-(s===-1?b:n.value%b);return d.value<g?o.slice(0,d.value-g):o}),u=(s,t)=>{t(),m(s),m("change")};return(s,t)=>e(d)>0?(c(),r("div",ue,[a("button",{disabled:e(n)==1,onClick:t[0]||(t[0]=o=>u("prev",()=>n.value=1)),class:"page-btn first"},[p(e(P),{class:"icon"})],8,_e),a("span",me,[a("button",{disabled:e(n)<=1,onClick:t[1]||(t[1]=o=>u("prev",e(h))),class:"page-btn first"},[p(e(I),{class:"icon"})],8,pe),(c(!0),r(C,null,x(_.value,o=>(c(),r("button",{key:o,disabled:e(n)===o,class:W([{active:e(n)===o},"page-btn"]),onClick:g=>u(o<e(n)?"prev":"next",()=>n.value=o)},$(o),11,he))),128)),a("button",{disabled:e(n)>=e(d),onClick:t[2]||(t[2]=o=>u("next",e(v))),class:"page-btn last"},[p(e(I),{class:"icon"})],8,ve)]),a("button",{disabled:e(n)===e(d),onClick:t[3]||(t[3]=o=>u("next",()=>n.value=e(d))),class:"page-btn last"},[p(e(P),{class:"icon"})],8,fe)])):k("",!0)}},S=f(ge,[["__scopeId","data-v-d695642a"]]),be={class:"label"},$e={key:0,class:"items scrollbar"},we={__name:"DropdownButton",props:["label"],setup(l){const i=V(!1),m=crypto.getRandomValues(new Uint8Array(6)).join("")+new Date().valueOf(),n=()=>{i.value=!1,document.removeEventListener("pointerdown",h)},d=()=>{i.value=!0,document.addEventListener("pointerdown",h)},v=()=>{i.value?n():d()};function h(_){_.target.closest(`#${CSS.escape(m)}`)||n()}return Z(()=>{document.removeEventListener("pointerdown",h)}),(_,u)=>(c(),r("div",{id:m,class:"dropdown"},[a("button",G(_.$attrs,{onClick:v,class:[{open:i.value},"dropdown-btn"]}),[a("span",be,$(l.label),1),p(e(I),{class:"icon"})],16),p(F,{name:"open-items"},{default:w(()=>[i.value?(c(),r("div",$e,[z(_.$slots,"items")])):k("",!0)]),_:3})]))}},D=f(we,[["__scopeId","data-v-e0cabcaf"]]),T=l=>(O("data-v-4539f884"),l=l(),U(),l),ke={class:"filters"},Ce=["for"],xe=["id","value","checked"],ye=T(()=>a("span",{class:"btn"},null,-1)),Le={class:"label"},Ie=["id"],Ge=["id","value","checked"],Pe=T(()=>a("span",{class:"btn"},null,-1)),Be={class:"label"},Se={__name:"GameFilters",emits:["change"],setup(l,{emit:i}){const m=i,{filters:n,platforms:d,genres:v}=N();function h(_){const{checked:u,value:s,dataset:t}=_.currentTarget,o=[...n.value];if(u)o.push({field:t.field,value:s});else{const g=o.findIndex(L=>L.field===t.field&&L.value===s);g!==-1&&o.splice(g,1)}n.value=o,m("change")}return(_,u)=>(c(),r("div",ke,[p(D,{class:"active",label:"Platforms"},{items:w(()=>[(c(!0),r(C,null,x(e(d),s=>(c(),r("label",{key:s,for:s,class:"switch"},[a("input",{id:s,value:s,type:"checkbox","data-field":"platform",onChange:h,checked:e(n).some(t=>t.value.includes(s))},null,40,xe),ye,a("span",Le,$(s),1)],8,Ce))),128))]),_:1}),p(D,{label:"Genres"},{items:w(()=>[(c(!0),r(C,null,x(e(v),s=>(c(),r("label",{key:s,id:s,class:"switch"},[a("input",{id:s,value:s,type:"checkbox","data-field":"genre",onChange:h,checked:e(n).some(t=>t.value===s)},null,40,Ge),Pe,a("span",Be,$(s),1)],8,Ie))),128))]),_:1})]))}},De=f(Se,[["__scopeId","data-v-4539f884"]]),Ne={class:"app-container"},Ve={class:"controls-top"},Fe={class:"controls-bottom"},Te={__name:"GamesView",setup(l){const{gameSlice:i}=j(),m=V(""),n=()=>m.value="fade-slide-prev",d=()=>m.value="fade-slide-next",v=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(h,_)=>(c(),r("main",Ne,[a("section",Ve,[p(De,{onChange:_[0]||(_[0]=u=>m.value="fade")}),p(S,{onPrev:n,onNext:d})]),p(F,{name:m.value},{default:w(()=>{var u,s;return[(c(),r("section",{key:e(i),class:"cards"},[(c(!0),r(C,null,x(e(i),t=>(c(),y(B,{key:t==null?void 0:t.id,game:t},null,8,["game"]))),128)),((u=e(i))==null?void 0:u.length)%3!==0?(c(!0),r(C,{key:0},x(3-((s=e(i))==null?void 0:s.length)%3,t=>{var o;return c(),y(B,{key:t,game:e(i)[((o=e(i))==null?void 0:o.length)-1],class:"filler"},null,8,["game"])}),128)):k("",!0)]))]}),_:1},8,["name"]),a("section",Fe,[p(S,{onPrev:n,onNext:d,onChange:v})])]))}},Me=f(Te,[["__scopeId","data-v-eac4a287"]]);export{Me as default};
